<!-- edit-post.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Post - Betty-Thinks</title>
    <!-- Bootstrap CSS -->
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font-Awesome -->
    <link
      href="assets/font-awesome/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <!-- Custom CSS for Admin Pages -->
    <link href="css/admin.css" rel="stylesheet" />
    <!-- Quill.js CSS -->
    <link
      href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h1 class="text-center">Edit Post</h1>
      <button id="logout-btn" class="btn btn-danger mb-3">Logout</button>

      <form id="edit-post-form">
        <div class="form-group">
          <label for="edit-post-title">Title</label>
          <input
            type="text"
            class="form-control"
            id="edit-post-title"
            placeholder="Post Title"
            required
          />
        </div>
        <div class="form-group">
          <label for="edit-post-content">Content</label>
          <!-- Quill Editor Container -->
          <div id="quill-editor"></div>
          <!-- Hidden Input to Store Quill's Content -->
          <input
            type="hidden"
            id="edit-post-content"
            name="edit-post-content"
            required
          />
        </div>
        <button type="submit" class="btn btn-success">Save Changes</button>
        <a href="dashboard.html" class="btn btn-secondary">Cancel</a>
      </form>
    </div>

    <!-- jQuery and JS Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <!-- Quill.js JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <!-- Edit Post JavaScript Module -->
    <script type="module" src="js/modules/edit-post.js"></script>

    <!-- Initialize Quill Editor -->
    <script>
      // Initialize Quill editor
      var quill = new Quill("#quill-editor", {
        theme: "snow",
        placeholder: "Edit your post here...",
        modules: {
          toolbar: [
            [{ header: [1, 2, 3, false] }],
            ["bold", "italic", "underline", "strike"],
            [{ list: "ordered" }, { list: "bullet" }],
            ["link", "image"],
            ["clean"],
          ],
        },
      });

      // On form submit, populate the hidden input with Quill's content
      document
        .getElementById("edit-post-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          var postContent = document.getElementById("edit-post-content");
          postContent.value = quill.root.innerHTML;
          // Proceed with form submission handled in edit-post.js
        });
    </script>
  </body>
</html>
